<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<link rel="shortcut icon" href="./res/sport.png" type="image/x-icon">
	<title>wk运动</title>
	<link rel="stylesheet" href="./css/index.css" type="text/css"/>
	<script src="./js/crypto-js.min.js" type="text/javascript"></script>
</head>
<body>
	<div id="content">
		<h1>wk运动</h1>
		<text id="introduce">编辑如下信息,自动体育运动</text>
		<text id="show">该网站免费且不会保留任何用户的任何数据,所有数据均由学校api获取得到<br><a href="https://github.com/xmexg/wkyd">加入程序建设:https://github.com/xmexg/wkyd</a></text>
		<text id="note">请注意,该程序没有编写任何数据合理性检验的代码,你可以把信息编辑成任何你想要的样子,包括但不限于:
			<ul>
				<li>无地图提交或把1cm的地图路线说成3km的长度</li>
				<li>向学校服务器插入xss,sql恶意代码</li>
				<li>发送不符合学校要求的运动数据</li>
				<li>在士官学院下午训练过程中跑步!</li>
				<li>制作发生时间倒流的数据</li>
				<li>...</li>
			</ul>
		</text>
		<div id="TheForm">
			<!-- 这个form大概率会弃用,先留着 -->
			<form id="Form" name="usrform"  action="updata" method="post">
				<div class="fd"><div id="saltsignnote">salt和sign是学校用于数据验证的加密算法,解密过程见<a href="https://github.com/xmexg/wkyd/blob/main/apk%E5%8F%8D%E7%BC%96%E8%AF%91%E5%88%86%E6%9E%90%E7%AC%94%E8%AE%B0.md">apk反编译分析笔记</a><br>salt由8位0-9和a-f组成,sign该网站会帮你计算<br>如果填写不合理则无法通过学校数据验证</div></div>
				<div class="fd">salt:<input class="U D block" type="text" name="salt" id="salt" placeholder="salt(8位0-9和a-f,不合规无法提交)" oninput="saltchange()" maxlength="8" ><image src="./res/redo.png" id="saltredo" ></image></div>
				<div class="fd">sign:<input class="U D block" type="text" name="sign" id="sign" placeholder="访问学校服务器时的sign" disabled></div>

				<div class="fd">学号:<input class="H block" type="text" name="id" id="id" placeholder="学号" required></div>
				<div class="fd">系统类型:<input class="H block" type="text" name="ostype" id="ostype" placeholder="系统类型(android/iphone)" required value="android"></div>
				<div class="fd">系统版本号:<input class="H block" type="text" name="version" id="version" placeholder="系统版本号(数字)" required value="13"></div>
				<div class="fd">手机型号:<input class="H block" type="text" name="phone" id="phone" placeholder="手机型号" required value="Xiaomi M2011K2C"></div>
				<div class="fd">请求头:<input class="H D block" type="text" name="useragent" id="useragent" placeholder="请求头(okhttp/4.5.0)" required value="okhttp/4.5.0"></div>

				<div class="fd">运动距离长度:<input class="block" type="number" name="totalGeoLength" id="totalGeoLength" placeholder="运动距离(3030)"></div>
				<div class="fd">运动时间长度:<input class="block" type="number" name="totalTimeLength" id="totalTimeLength" placeholder="运动时长(1469)"></div>
				<div class="fd">开始时间:<input class="block" type="datetime-local" name="beginTime" id="beginTime" step="1" placeholder="开始时间(2023-03-16 11:13:27)"></div>
				<div class="fd">结束时间:<input class="block" type="datetime-local" name="endTime" id="endTime" step="1" placeholder="结束时间(2023-03-16 11:15:40)"></div>
				<div class="fd">校区:<input class="block" type="text" name="campus" id="campus" placeholder="校区(1)" value="1"></div>

				<div class="fd">地图类型:
					<select class="S block" name="mapdatatype" id="mapdatatype">
						<option value="m" selected onclick="mapshowmap()">画出跑步路线</option>
						<option class="D" value="b" onclick="mapshowtext()">自定义跑步json数据</option>
					</select>
				</div>
				<div id="mapcanvasdrawinfo">
					<div class="mapcanvasdrawinfoc_div"><div class="mapcanvasdrawinfoc_div_d1">节点数量:</div><div class="mapcanvasdrawinfoc_div_d2" id="mcdid1"></div></div>
					<div class="mapcanvasdrawinfoc_div"><div class="mapcanvasdrawinfoc_div_d1">参考路程(cm):</div><div class="mapcanvasdrawinfoc_div_d2" id="mcdid2"></div></div>
				</div>
				<div id="mapcanvasdiv">
					<canvas id="mapcanvasdivcan" width="690" height="690"></canvas>
					<textarea id="mapcanvasdivtext" class="D" name="mapdata"  placeholder="自定义跑步json数据,此处文本会作为latLng的值"></textarea>
				</div>
				<div class="fd" id="subdata">完成运动</div>
				<div class="fd" id="res"></div>
			</form>
		</div>
	</div>
</body>

	<script src="./js/index.js" type="text/javascript" defer></script>
</html>
